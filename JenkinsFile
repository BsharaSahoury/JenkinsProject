pipeline {
   agent { node { label 'slave01' } }

   stages {
   
  	 stage('Initialize') {
         steps {
            sh """
					env
					echo "Version of the code is $Language"
					mkdir -p $HOME/Versions/$Language
			"""
         }
      }
	  
      stage('C') {
			when {
					anyOf {
							expression { params.Language == 'All' }
							expression { params.Language == 'C' }
					   	  }
				  }
         steps {
				sh """
						cp -r ${WORKSPACE}/*.c $HOME/Versions/$Language
						cd $HOME/Versions/$Language
						pwd
						ls -la
						gcc C.c -o Program
						./Program
						./Program >> Results
				   """
            echo 'Here is C space.'
                }
      }
	  
	  stage('Python') {
         when {
					anyOf {
							expression { params.Language == 'All' }
							expression { params.Language == 'Python' }
					   	  }
				  }
         steps {
				sh """
						cp -r ${WORKSPACE}/*.py $HOME/Versions/$Language
						cd $HOME/Versions/$Language
						pwd
						ls -la
						python *.py
						python *.py >> Results
				   """
            echo 'Here is Python space.'
                }
      }
	  
	  
	  stage('Bash') {
         when {
					anyOf {
							expression { params.Language == 'All' }
							expression { params.Language == 'Bash' }
					   	  }
				  }
         steps {
				sh """
						cp -r ${WORKSPACE}/*.sh $HOME/Versions/$Language
						cd $HOME/Versions/$Language
						pwd
						ls -la
						sh *.sh
						sh *.sh >> Results
				   """
            echo 'Here is Bash space.'
                }
      }
	  
	  stage('Saving Results') {
         steps {
           sh """
						cp -r ${WORKSPACE}/*.sh $HOME/Versions/$Language
						cd $HOME/Versions/$Language
						pwd
						ls -la
						sh *.sh
						sh *.sh >> Results
				   """
         }
      }
   }
}
